@{
    ViewBag.Title = "صورتحساب فروش / برگشت";
}

@await Html.PartialAsync("/Modules/NewFormPlate1V1.cshtml")


<div id="AddEditModal" class="modal fade" tabindex="-1" data-keyboard="false" role="dialog" aria-labelledby="modal_title" aria-hidden="true" onkeydown="modal_onkeydown(event, this)">
    <div class="modal-dialog modal-size-lg">
        <div class="modal-content">
            <div class="modal-header bg-header">
                <div class="text-right">
                    <h5 class="modal-title mt-0" id="modal_title">افزودن ویرایش</h5>
                </div>
            </div>
            <div class="modal-body modal-max-height text-right" style="overflow: visible !important" data-parsley-validate>
                <div class="row" id="rowKeyId">
                    <div class="d-block w-100 text-right mb-2 pr-3">
                        <div class="key_id">
                            <lable id="modal_keyid_caption"></lable>
                            <span id="modal_keyid_value"></span>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-sm-3">
                        <label>شعبه</label>
                        <div>
                            <select id="branchId" class="form-control" tabindex="1"></select>
                        </div>
                    </div>
                    <div class="form-group col-sm-3">
                        <label>تاریخ صورتحساب</label>
                        <div>
                            <input type="text" id="invoiceDatePersian" class="form-control persian-date" placeholder="____/__/__" data-inputmask="'mask':'9999/99/99'" required data-parsley-shamsidate data-parsley-errors-container="#invoiceDatePersianErrorContainer" maxlength="10" tabindex="2"/>
                            <div id="invoiceDatePersianErrorContainer"></div>
                        </div>
                    </div>
                    <div class="form-group col-sm-3">
                        <label>نوع سفارش</label>
                        <div>
                            <select id="invoiceTypeId" class="form-control" required tabindex="3">
                                <option value="45">فروش</option>
                                <option value="46">برگشت از فروش</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group col-sm-3" id="returnReason">
                        <label>دلیل برگشت</label>
                        <div>
                            <select id="returnReasonId" class="form-control" tabindex="4"></select>
                        </div>
                    </div>
                    <div class="form-group col-sm-3">
                        <label>واحد پول</label>
                        <div>
                            <select id="currencyId" class="form-control" tabindex="5"></select>
                        </div>
                    </div>
                    <div class="form-group col-sm-3">
                        <label>صورتحساب قانونی</label>
                        <div class="funkyradio funkyradio-success" onkeydown="funkyradio_keydown(event,'officialInvoice');" tabindex="6">
                            <input id="officialInvoice" type="checkbox" onchange="funkyradio_onchange(this)" switch-value="بلی,خیر"/>
                        </div>
                    </div>
                    <div class="form-group col-sm-6">
                        <label>مراحل</label>
                        <div>
                            <select id="stageWorkflowId" class="form-control" tabindex="6">
                                <option value="1">سفارش فروش ==> صورتحساب فروش ===> مرحله ایکسم</option>
                                <option value="2">سفارش فروش ==> صورتحساب برذگشت ===> مرحله ایکسم</option>
                                <option value="3">سفارش فروش ==> صورتحساب ===> مرحله ایکسم</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="modal-save" onclick="modal_save()" class="btn btn-success waves-effect waves-light" tabindex="7"><i class="fa fa-save"></i>ذخیره</button>
                <button id="modal-close" onclick="modal_close()" class="btn btn-secondary waves-effect"><i class="fa fa-times-circle"></i>انصراف</button>
            </div>
        </div>
    </div>
</div>
<!--Modal-->

<script src="~/Modules/SM/PersonInvoice/PersonInvoiceIndex.js"></script>