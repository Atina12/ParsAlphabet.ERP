@{
    ViewBag.Title = "نمایش فوت";
}

<link href="~/lib/ModulesCss/Navigate.css" rel="stylesheet"/>
<link href="~/lib/jquery-ui/css/jquery-ui.css" rel="stylesheet"/>
<link href="~/lib/switchCheckbox/switchBox.css" rel="stylesheet"/>
<link href="~/lib/ModulesCss/AdmissionRefer.css" rel="stylesheet"/>

<div class="content-page displaynone" id="content-page">
<div class="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">
<div class="card m-b-30 m-t-15">
<div class="header-title d-flex">
    <span>@ViewBag.Title</span>
    <div class="button-items">
        <button title="اولین" id="headerFirst" onclick="display_pagination('first')" type="button" class="header-pagination-btn btn btn-info waves-effect">
            <i class="mdi mdi-skip-next"></i>
        </button>
        <button title="قبلی" id="headerPrevious" onclick="display_pagination('previous')" type="button" class="header-pagination-btn btn btn-info waves-effect">
            <i class="mdi mdi-play"></i>
        </button>
        <input id="headerIndex" onkeydown="headerindexChoose(event)" type="text" autocomplete="off" class="form-control number col-2 d-inline mr-2 ml-1" placeholder="شناسه نسخه"/>
        <button title="بعدی" id="headerNext" onclick="display_pagination('next')" type="button" class="header-pagination-btn btn btn-info waves-effect">
            <i class="mdi mdi-play fa-rotate-180"></i>
        </button>
        <button title="آخرین" id="headerLast" onclick="display_pagination('last')" type="button" class="header-pagination-btn btn btn-info waves-effect">
            <i class="mdi mdi-skip-previous"></i>
        </button>

        @*<button id="list_adm" type="button" class="btn btn_green_1 waves-effect"><i class="fa fa-list-ul"></i>لیست</button>*@
    </div>
</div>
<div class="card-body" data-parsley-validate>
<div class="row" id="BoxBox">
    <div class="col-12 d-flex">
        <div class="form-group col-lg-1 col-sm-2">
            <label>شناسه</label>
            <div>
                <input id="deathId" type="text" class="form-control number" maxlength="10" readonly value="@ViewContext.RouteData.Values["id"]"/>
            </div>
        </div>
        <div class="form-group col-lg-2 col-sm-4">
            <label>ثبت کننده</label>
            <input id="userFullName" type="text" class="form-control" readonly/>
        </div>
        <div class="form-group col-lg-2 col-sm-2">
            <label>تاریخ ثبت</label>
            <input id="creatDateTime" type="text" class="form-control" readonly/>
        </div>
    </div>
</div>


<fieldset class="group-box group-box-blue mt-3" id="deathFieldset">
    <legend> ثبت اطلاعات</legend>
    <div class="row " id="deathForm" data-parsley-validate>

        <div class="form-group col-lg-2  col-sm-2">
            <label>وضعیت نمبر تذکره </label>
            <div>
                <input id="switchList" disabled type="text" class="form-control" tabindex="8">
            </div>
        </div>
        <div class="form-group col-lg-2 col-sm-4">
            <label>نمبر تذکره</label>
            <div>
                <input id="nationalId" disabled type="text" class="form-control str-number" title="" data-parsley-nationalcode="" data-parsley-existnationalcode="" data-parsley-errors-container="#nationalIdError" maxlength="10" tabindex="9"/>
            </div>
            <div id="nationalIdError"></div>
        </div>

        <div class="form-group col-lg-2 col-sm-2">
            <label>جنسیت</label>
            <div>
                <input id="genderId" disabled class="form-control" title="" tabindex="10"/>
            </div>
        </div>
        <div class="form-group col-lg-2  col-sm-4">
            <label>نام </label>
            <div>
                <input id="firstName" disabled type="text" class="form-control atoz-valid" maxlength="100" tabindex="11" required/>
            </div>
        </div>
        <div class="form-group col-lg-2  col-sm-4">
            <label> تخلص </label>
            <div>
                <input id="lastName" disabled type="text" class="form-control atoz-valid" maxlength="100" tabindex="12" required/>
            </div>
        </div>
        <div class="form-group col-lg-2  col-sm-4">
            <label>تاریخ تولد</label>
            <div>
                <input id="birthDate" disabled type="text" class="form-control" maxlength="22" required data-parsley-shamsidate placeholder="____/__/__" data-inputmask="'mask':'9999/99/99'" tabindex="13"/>
            </div>
        </div>
    </div>

</fieldset>


<fieldset class="group-box group-box-gray mt-3" id="sendReferFieldset">
    <legend>اطلاعات ثبت مرگ</legend>

    <ul class="nav nav-pills nav-justified" role="tablist">
        <li class="nav-item waves-effect waves-light" onclick="focusInput(6)">
            <a class="nav-link active" data-toggle="tab" id="deathLink" href="#deathBox" role="tab">
                <span class="d-none d-md-block">اطلاعات گواهی فوت</span>
                <span class="d-block d-md-none">
                    <i class="mdi mdi-email h5"></i>
                </span>
            </a>
        </li>


        <li class="nav-item waves-effect waves-light" onclick="focusInput(8)">
            <a class="nav-link" data-toggle="tab" id="deathCauseLink" href="#deathCauseBox" role="tab">
                <span class="d-none d-md-block">علت فوت</span>
                <span class="d-block d-md-none">
                    <i class="mdi mdi-email h5"></i>
                </span>
            </a>
        </li>


        <li class="nav-item waves-effect waves-light" onclick="focusInput(7)">
            <a class="nav-link" data-toggle="tab" id="infantDeliveryLink" href="#infantDeliveryBox" role="tab">
                <span class="d-none d-md-block">اطلاعات نوزاد </span>
                <span class="d-block d-md-none">
                    <i class="mdi mdi-email h5"></i>
                </span>
            </a>
        </li>

        <li class="nav-item waves-effect waves-light" onclick="focusInput(10)">
            <a class="nav-link" data-toggle="tab" id="medicalHistoryLink" href="#medicalHistoryBox" role="tab">
                <span class="d-none d-md-block">تاریخچه داکتری مراجعه کننده</span>
                <span class="d-block d-md-none">
                    <i class="mdi mdi-email h5"></i>
                </span>
            </a>
        </li>


    </ul>
    <!-- Tab panes -->
    <div class="tab-content group-box group-box-gray">
        @*START Death*@
        <div class="tab-pane active p-3" id="deathBox" role="tabpanel">
            <div class="row tabToggle6" id="deathForm2" data-parsley-validate>
                <div class="form-group col-lg-2  col-sm-4">
                    <label>نام صادرکننده مجوزدفن</label>
                    <div>
                        @*<select id="burialAttesterId" class="form-control select2" tabindex="14" required data-parsley-errors-container="#burialAttesterIdContainer"></select>*@
                        <input id="burialAttesterId" class="form-control" tabindex="14" disabled/>
                    </div>
                    <div id="burialAttesterIdContainer"></div>
                </div>
                <div class="form-group col-lg-2  col-sm-4">
                    <label>تاریخ صدور گواهی فوت</label>
                    <div>
                        @*<input id="issueDate" type="text" class="form-control" maxlength="22" required data-parsley-shamsidate placeholder="____/__/__" data-inputmask="'mask':'9999/99/99'" tabindex="15" />*@
                        <input id="issueDate" type="text" class="form-control" maxlength="22" disabled data-inputmask="'mask':'9999/99/99'" tabindex="15"/>
                    </div>
                </div>
                <div class="form-group col-lg-2  col-sm-4">
                    <label>شماره سریال گواهی فوت</label>
                    <div>
                        @*<input id="serialNumber" type="text" class="form-control" required maxlength="20" tabindex="16" />*@
                        <input id="serialNumber" type="text" class="form-control" disabled maxlength="20" tabindex="16"/>
                    </div>

                </div>
                <div class="form-group col-lg-2  col-sm-4">
                    <label>تاریخ و زمان فوت</label>
                    <div>
                        @*<input id="deathDateTime" type="text" class="form-control" required data-parsley-shamsidatetime maxlength="16" placeholder="____/__/__ __:__" data-inputmask="'mask':'9999/99/99 99:99'" tabindex="17">*@
                        <input id="deathDateTime" type="text" class="form-control" disabled maxlength="16" data-inputmask="'mask':'9999/99/99 99:99'" tabindex="17"/>
                    </div>
                </div>
                <div class="form-group col-lg-2  col-sm-4">
                    <label>مکان فوت</label>
                    <div>
                        @*<select id="deathLocationId" class="form-control select2" tabindex="18" required data-parsley-errors-container="#serialNumberContainer"></select>*@
                        <input id="deathLocationId" class="form-control" tabindex="18" disabled/>
                    </div>
                    <div id="serialNumberContainer"></div>
                </div>
                <div class="form-group col-lg-2 col-sm-4">
                    <label>نمبر تذکره سرپرست خانوار</label>
                    <div>
                        <input id="householdHeadNationalCode" type="text" class="form-control" disabled maxlength="10" tabindex="19"/>
                    </div>
                    <div id="householdHeadNationalCodeError"></div>
                </div>

                <div class="form-group col-lg-2  col-sm-4">
                    <label>منبع تشخیص فوت</label>
                    <div>
                        @*<select id="sourceOfNotificationId" class="form-control select2" tabindex="20" required data-parsley-errors-container="#sourceOfNotificationIdContainer"></select>*@
                        <input id="sourceOfNotificationId" class="form-control" tabindex="20" disabled/>
                    </div>
                    <div id="sourceOfNotificationIdContainer"></div>
                </div>
                <div class="form-group col-lg-5  col-sm-4">
                    <label>توضیحات</label>
                    <div>
                        <input id="comment" type="text" disabled class="form-control" maxlength="100" tabindex="21"/>
                    </div>
                    <div id="commentContainer"></div>
                </div>
            </div>
        </div>
        @*END Death*@

        @*START causeDeath*@
        <div class="tab-pane  p-3" id="deathCauseBox" role="tabpanel">
            <div class="row tabToggle8" id="deathCauseForm" data-parsley-validate>
                <div class="table-responsive" style="width:100%;height: 300px;">
                    <table class="table table-styles border mb-0" style="table-layout:fixed;font-size:10px" id="tempdeathCauseList">
                        <thead>
                        <tr>
                            <th>ردیف</th>
                            <th>علت فوت</th>
                            <th>وضعیت تشخیص علت فوت</th>
                            <th>فاصله زمانی تقریبی علت فوت تا مرگ</th>
                            <th>واحد زمان</th>
                        </tr>
                        </thead>
                        <tbody id="tempdeathCause">
                        <tr id="emptyRow">
                            <td colspan="5" class="text-center">سطری وجود ندارد</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        @*END causeDeath*@

        @*START infantDelivery*@
        <div class="tab-pane  p-3" id="infantDeliveryBox" role="tabpanel">
            <div class="row tabToggle7" id="infantDeliveryForm" data-parsley-validate>
                <div class="table-responsive" style="width:100%;height: 300px;">
                    <table class="table table-styles border mb-0" style="table-layout:fixed;font-size:10px" id="tempinfantDeliveryList">
                        <thead>
                        <tr>
                            <th>ردیف</th>
                            <th>وزن تولد</th>
                            <th>واحد وزن</th>
                            <th>تعداد قل</th>
                            <th>مرتبه قل</th>
                            <th>عامل زایمان</th>
                            <th>مکان زایمان</th>
                            <th>نمبر تذکره مادر</th>
                            <th>نام مادر</th>
                            <th> تخلص مادر</th>
                            <th>تاریخ تولد</th>
                            <th>شماره موبایل</th>
                        </tr>
                        </thead>
                        <tbody id="tempinfantDelivery">
                        <tr id="emptyRow">
                            <td colspan="12" class="text-center">سطری وجود ندارد</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        @*END drugHistory*@

        @*START medicalHistory*@
        <div class="tab-pane  p-3" id="medicalHistoryBox" role="tabpanel">
            <div class="row tabToggle10" id="medicalHistoryForm" data-parsley-validate>
                <div class="table-responsive" style="width:100%;height: 300px;">
                    <table class="table table-styles border mb-0" style="table-layout:fixed;font-size:10px" id="tempmedicalHistoryList">
                        <thead>
                        <tr>
                            <th class="col-width-percent-3">ردیف</th>
                            <th>نام بیماری</th>
                            <th>تاریخ شروع بیماری</th>
                            <th>مدت زمان بیماری قبلی</th>
                            <th>واحد اندازه گیری</th>
                            <th>توضیح</th>
                        </tr>
                        </thead>
                        <tbody id="tempmedicalHistory">
                        <tr id="emptyRow">
                            <td colspan="6" class="text-center">سطری وجود ندارد</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        @*END medicalHistory*@

    </div>
</fieldset>
</div>
</div>
</div>
</div>
</div> <!-- end col -->
</div>
</div>

<div id="searchAdmissionModal" class="modal fade" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="modal_title" aria-hidden="true" onkeydown="modal_onkeydown(event, this)">
    <div class="modal-dialog modal-size-xlg">
        <div class="modal-content">
            <div class="modal-header bg-header">
                <div class="col-sm-6 text-right">
                    <h5 class="modal-title mt-0" id="modal_title">انتخاب پذیرش</h5>
                </div>
            </div>
            <div class="modal-body modal-max-height text-right">
                <div class="">
                    <fieldset class="group-box group-box-green">
                        <legend>جستجو</legend>
                        <div class="row">
                            <div class="form-group col-lg-2 col-sm-4">
                                <label>شناسه پذیرش</label>
                                <div>
                                    <input id="admissionId" type="text" class="form-control" maxlength="10" tabindex="1">
                                </div>
                            </div>
                            <div class="form-group col-lg-2 col-sm-4">
                                <label>نمبر تذکره مراجعه کننده</label>
                                <div>
                                    <input id="patientNationalCode" type="text" class="form-control str-number" maxlength="50" tabindex="2">
                                </div>
                            </div>
                            <div class="form-group col-lg-2 col-sm-4">
                                <label>مراجعه کننده</label>
                                <div>
                                    <input id="patientFullName" type="text" class="form-control" maxlength="50" tabindex="3">
                                </div>
                            </div>
                            <div class="form-group col-lg-2 col-sm-4">
                                <label>تاریخ ثبت</label>
                                <div>
                                    <input id="createDatePersian" type="text" class="form-control" maxlength="10" placeholder="____/__/__" data-inputmask="'mask':'9999/99/99'" tabindex="4">
                                </div>
                            </div>
                            <div class="form-group col-lg-2 col-sm-4">
                                <button id="searchAdmission" type="button" class="btn btn-light border-green" style="margin-top:22.5px" tabindex="5"><i class="fa fa-search"></i>جستجو</button>
                            </div>
                        </div>
                    </fieldset>
                    <div class="table-responsive" style="white-space: normal!important; width: 100%; height: 300px; margin: auto; margin-top: 10px;">
                        <table class="table table-styles border mb-0" id="patientListPagetable">
                            <thead>
                            <tr>
                                <th class="col-width-percent-5">شناسه</th>
                                <th class="col-width-percent-15">مراجعه کننده</th>
                                <th class="col-width-percent-7">کدملی</th>
                                <th class="col-width-percent-10">بیمه پایه</th>
                                <th class="col-width-percent-10">صندوق بیمه</th>
                                <th class="col-width-percent-7">بیمه تکمیلی</th>
                                <th class="col-width-percent-10">شناسه شباد</th>
                                <th class="col-width-percent-9">شناسه ارجاع</th>
                                <th class="col-width-percent-10">تاریخ انقضاء دفترچه</th>
                                <th class="col-width-percent-12">داکتر</th>
                                <th class="col-width-percent-5">انتخاب</th>
                            </tr>
                            </thead>
                            <tbody id="tempAdmission">
                            <tr id="emptyRow">
                                <td colspan="11" class="text-center">سطری وجود ندارد</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="modal-close" onclick="modal_close('searchAdmissionModal')" class="btn btn-secondary waves-effect" title="Esc"><i class="fa fa-times-circle"></i>بستن</button>
            </div>
        </div>
    </div>
</div>

@*START diagToothForm*@


<script src="/js/formplate.js"></script>
<script src="/js/formplate1.js"></script>

<script src="~/lib/jquery-ui/js/jquery-ui.js" type="text/javascript"></script>
<script type="text/javascript" src="/Modules/MC/DeathCertificate/DeathCertificateDisplay.js"></script>